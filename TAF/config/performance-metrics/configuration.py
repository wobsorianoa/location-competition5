import os

SECURITY_SERVICE_NEEDED=os.getenv("SECURITY_SERVICE_NEEDED")
COMPOSE_IMAGE=os.getenv("COMPOSE_IMAGE")

# Service Port
if SECURITY_SERVICE_NEEDED == 'true':
    DEVICE_REST_PORT = "8443/device-rest"
    DEVICE_VIRTUAL_PORT = "8443/device-virtual"
    APP_SERVICE_RULES_PORT = "8443/app-rules-engine"
else:
    DEVICE_REST_PORT = 59986
    DEVICE_VIRTUAL_PORT = 59900
    APP_SERVICE_RULES_PORT = 59701


# Suite: 1_resource_usage
# Prior release (JAKARTA) image size (MB) for x86
CONSUL_IMAGE = 116.43
DATA_IMAGE = 20.67
METADATA_IMAGE = 16.87
COMMAND_IMAGE = 16.13
NOTIFICATIONS_IMAGE = 26.83   # JAKARTA: 16.96
SCHEDULER_IMAGE = 26.23       # JAKARTA: 16.21
APP_SERVICE_CONFIGURABLE_IMAGE = 36.14    # JAKARTA: 25.23
SYS_MGMT_AGENT_IMAGE = 294.12
DEVICE_VIRTUAL_IMAGE = 35.79  # JAKARTA: 24.76
DEVICE_REST_IMAGE = 35.80     # JAKARTA: 21.45
KUIPER_IMAGE = 24.54
REDIS_IMAGE = 32.40
PROXY_IMAGE = 26.86
SECRETSTORE_IMAGE = 28.36
KONG_IMAGE = 141.61
KONG_DB_IMAGE = 191.51
VAULT_IMAGE = 186.30
BOOTSTRAPPER_IMAGE = 18.87

# Prior release (JAKARTA) binary size (MB) for x86
CONSUL_BINARY = 0
DATA_BINARY = 12.31
METADATA_BINARY = 11.18
COMMAND_BINARY = 10.43
NOTIFICATIONS_BINARY = 20.68    # JAKARTA: 10.78
SCHEDULER_BINARY = 20.55        # JAKARTA: 10.52
APP_SERVICE_CONFIGURABLE_BINARY = 27.27     # JAKARTA: 16.34
SYS_MGMT_AGENT_BINARY = 10.24
DEVICE_VIRTUAL_BINARY = 27.41   # JAKARTA: 16.37
DEVICE_REST_BINARY = 27.44      # JAKARTA: 13.07
KUIPER_BINARY = 0
REDIS_BINARY = 0
PROXY_BINARY = 0
SECRETSTORE_BINARY = 0
KONG_BINARY = 0
KONG_DB_BINARY = 0
VAULT_BINARY = 0
BOOTSTRAPPER_BINARY = 0

# Prior release (JAKARTA) image size (MB) for arm64
CONSUL_IMAGE_ARM64 = 110.09
DATA_IMAGE_ARM64 = 19.56
METADATA_IMAGE_ARM64 = 15.87
COMMAND_IMAGE_ARM64 = 15.25
NOTIFICATIONS_IMAGE_ARM64 = 25.77   # JAKARTA: 16.08
SCHEDULER_IMAGE_ARM64 = 25.20       # JAKARTA: 15.33
APP_SERVICE_CONFIGURABLE_IMAGE_ARM64 = 34.80    # JAKARTA: 23.88
SYS_MGMT_AGENT_IMAGE_ARM64 = 277.28
DEVICE_VIRTUAL_IMAGE_ARM64 = 34.37  # JAKARTA: 23.3
DEVICE_REST_IMAGE_ARM64 = 34.39     # JAKARTA: 20.23
KUIPER_IMAGE_ARM64 = 45.01
REDIS_IMAGE_ARM64 = 32.47
PROXY_IMAGE_ARM64 = 25.45
SECRETSTORE_IMAGE_ARM64 = 26.78
KONG_IMAGE_ARM64 = 151.72
KONG_DB_IMAGE_ARM64 = 183.50
VAULT_IMAGE_ARM64 = 175.86
BOOTSTRAPPER_IMAGE_ARM64 = 17.82

# Prior release (JAKARTA) binary size (MB) for arm64
DATA_BINARY_ARM64 = 11.49
METADATA_BINARY_ARM64 = 10.42
COMMAND_BINARY_ARM64 = 9.79
NOTIFICATIONS_BINARY_ARM64 = 19.86    # JAKARTA: 10.13
SCHEDULER_BINARY_ARM64 = 19.76         # JAKARTA: 9.88
APP_SERVICE_CONFIGURABLE_BINARY_ARM64 = 26.22    # JAKARTA: 15.27
SYS_MGMT_AGENT_BINARY_ARM64 = 9.63
DEVICE_VIRTUAL_BINARY_ARM64 = 26.28   # JAKARTA: 15.20
DEVICE_REST_BINARY_ARM64 = 26.32      # JAKARTA: 12.17

# Footprint threshold value
# ex. 1.5 = prior release + 50%
FOOTPRINT_THRESHOLD = 1.2

# Suite: 2_service_startup_time
# Retry setting to fetch service startup time
WAIT_TIME = 5
RETRY_TIMES = 5

# Startup time threshold value (in seconds)
STARTUP_TIME_THRESHOLD = 300

# Loop time for retrieving services startup time
STARTUP_TIME_LOOP_TIMES = 5


# Suite: 3_resource_usage_with_autoevent
# CPU threshold value (percentage)
CPU_USAGE_THRESHOLD = 50

# Memory threshold value (in MB)
MEM_USAGE_THRESHOLD = 300

# Loop time for retrieving CPU and Memory
GET_CPU_MEM_LOOP_TIMES = 10

# Interval time for retrieving CPU and Memory (in seconds)
GET_CPU_MEM_INTERVAL = 7


# Suite: 4_ping_response_time
# Loop time for sending ping request
PING_RES_LOOP_TIMES = 100

# Ping response time threshold value (in milliseconds)
PING_RES_THRESHOLD = 100

# Allow the failure times for ping response time over than threshold setting
ALLOWABLE_OUTLIER = 5


# Suite: 5_event_exported_time
# Loop time for retrieve mqtt events
EXPORTED_LOOP_TIMES = 10

# Export time threshold value (in milliseconds)
EXPORT_TIME_THRESHOLD = 1200
